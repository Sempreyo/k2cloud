{"version":3,"sources":["main.js"],"names":["document","addEventListener","selectField","querySelector","report","selects","$","phoneField","length","disabledOption","find","text","attr","select2","minimumResultsForSearch","inputmask","showMaskOnHover","element","createElement","classList","add","innerHTML","newNode","existingNode","parentNode","insertBefore","nextSibling","openNav","bodyState","body","getAttribute","dataset","state","burger","closeButtonMenu","header","previousTop","window","scrollY","remove","setHeaderStyles","currentTop","anchors","querySelectorAll","forEach","anchor","e","location","hash","scrollIntoView","behavior","matchMedia","matches","hero","SplitType","types","IntersectionObserver","entries","observer","entry","isIntersecting","el","index","setTimeout","style","transform","observe","buttonUp","buttonUpHandler","scroll","pageYOffset","solutionsCarousel","elem","solutionsCarouselNext","nextElementSibling","solutionsCarouselPrev","Swiper","slidesPerView","spaceBetween","loop","autoHeight","navigation","nextEl","prevEl","pagination","bulletActiveClass","clickable","renderBullet","className","bulletTpl"],"mappings":"AACAA,SAAAC,iBAAA,mBAAA,KAOA,IAAAC,EAAAF,SAAAG,cAAA,wBACA,MAAAC,EAAAJ,SAAAG,cAAA,mBACAE,EAAAC,EAAA,wBACAC,EAAAD,EAAA,8BAEA,GAAAD,GAAAA,EAAAG,OAAA,IAAAJ,EAAA,CAEA,MAAAK,EAAAJ,EAAAK,KAAA,sBACAD,EAAAE,KAAA,iCACAF,EAAAG,KAAA,WAAA,QAEAP,EAAAQ,QAAA,CACAC,yBAAA,IAUA,GALAP,GAAAA,EAAAC,OAAA,IAAAJ,GACAG,EAAAQ,UAAA,qBAAA,CACAC,iBAAA,IAGAd,EAAA,CACA,MAAAe,EAAAjB,SAAAkB,cAAA,SACAD,EAAAE,UAAAC,IAAA,eAAA,0BACAH,EAAAI,UAAA,+XA7BAC,EA+BAL,GA/BAM,EA+BArB,GA9BAsB,WAAAC,aAAAH,EAAAC,EAAAG,aADA,IAAAJ,EAAAC,EAkCA,MAAAI,EAAA,KACA,IAAAC,EAAA5B,SAAA6B,KAAAC,aAAA,cAGA9B,SAAA6B,KAAAE,QAAAC,MADA,gBAAAJ,EACA,GAEA,eAKAK,EAAAjC,SAAAG,cAAA,mBACA+B,EAAAlC,SAAAG,cAAA,uBAEA8B,EAAAhC,iBAAA,QAAA0B,GACAO,EAAAjC,iBAAA,QAAA0B,GAGA,MAAAQ,EAAAnC,SAAAG,cAAA,WACA,IAAAiC,EAAAC,OAAAC,QACAH,EAAAhB,UAAAoB,OAAA,gBAEA,MAAAC,EAAA,KACA,IAAAC,EAAAJ,OAAAC,QAEAG,EA7DA,GA8DAN,EAAAhB,UAAAC,IAAA,cAEAe,EAAAhB,UAAAoB,OAAA,cAGAE,EAlEA,KAkEAA,EAAAL,EACAD,EAAAhB,UAAAC,IAAA,gBAEAe,EAAAhB,UAAAoB,OAAA,gBAEAH,EAAAK,GAGAzC,SAAAC,iBAAA,SAAA,KACAuC,MAGAA,IAGA,MAAAE,EAAA1C,SAAA2C,iBAAA,WAEAD,GAAAA,EAAAlC,OAAA,GACAkC,EAAAE,QAAAC,IACAA,EAAA5C,iBAAA,SAAA,SAAA6C,GAGAT,OAAAU,SAAAC,MACAhD,SAAAG,cAAAkC,OAAAU,SAAAC,MAAAC,eAAA,CACAC,SAAA,WAIAb,OAAAc,WAAA,sBAAAC,SACAzB,SAMA,MAAA0B,EAAArD,SAAAG,cAAA,SACA,GAAAkD,EAAA,CAEA,IAAAC,UAAA,eAAA,CACAC,MAAA,UAIA,IAAAC,qBAAA,CAAAC,EAAAC,KACAD,EAAAb,QAAAe,IACA,GAAAA,EAAAC,eAAA,CACA5D,SAAA2C,iBAAA,sBAEAC,QAAA,CAAAiB,EAAAC,KACAC,WAAA,KACAF,EAAAG,MAAAC,UAAA,iBACA,GAAAH,UAMAI,QAAAb,GAIA,MAAAc,EAAAnE,SAAAG,cAAA,cAcAiE,EAAA,KACAC,OAAAhC,OAAAiC,YAEAD,OAAA,IACAF,EAAAhD,UAAAC,IAAA,sBAEA+C,EAAAhD,UAAAoB,OAAA,uBAjBA4B,IACA9B,OAAApC,iBAAA,SAAAmE,GAEAD,EAAAlE,iBAAA,QAAA,KACAD,SAAAG,cAAA,QAAA8C,eAAA,CACAC,SAAA,gBAkBAlD,SAAAC,iBAAA,mBAAA,KACA,MAAAsE,EAAAvE,SAAA2C,iBAAA,sBAEA4B,EAAA/D,OAAA,GACA+D,EAAA3B,QAAA4B,IACA,MAAAC,EAAAD,EAAAE,mBAAAvE,cAAA,oBACAwE,EAAAH,EAAAE,mBAAAvE,cAAA,oBAEA,IAAAyE,OAAAJ,EAAA,CACAK,cAAA,EACAC,aAAA,GACAC,MAAA,EACAC,YAAA,EACAC,WAAA,CACAC,OAAAT,EACAU,OAAAR,GAEAS,WAAA,CACAvB,GAAA,yBACAwB,kBAAA,oCACAC,WAAA,EACAC,aAAA,SAAAzB,EAAA0B,GACA,IAAAC,EAAA,GAEA,OAAA3B,GACA,KAAA,EACA2B,EAAA,0CAAAD,+EACA,MACA,KAAA,EACAC,EAAA,0CAAAD,+EACA,MACA,KAAA,EACAC,EAAA,0CAAAD,+EACA,MACA,KAAA,EACAC,EAAA,0CAAAD,+EACA,MACA,KAAA,EACAC,EAAA,0CAAAD,+EAGA,OAAAC","file":"../main.min.js","sourcesContent":["/* Common */\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst HEADER_SCROLL_BG = 50;\r\n\tconst HEADER_SCROLL_HIDE = 400;\r\n\tfunction insertAfter(newNode, existingNode) {\r\n\t\texistingNode.parentNode.insertBefore(newNode, existingNode.nextSibling);\r\n\t}\r\n\r\n\tlet selectField = document.querySelector(\".ss-item-type-select\");\r\n\tconst report = document.querySelector(\".ss-form-report\");\r\n\tconst selects = $(\"select.ss-form-input\");\r\n\tconst phoneField = $('.ss-form-input[type=\"tel\"]');\r\n\r\n\tif (selects && selects.length > 0 && !report) {\r\n\t\t/* Первый элемент по умолчанию disabled */\r\n\t\tconst disabledOption = selects.find(\"option:first-child\");\r\n\t\tdisabledOption.text(\"Предпочтительный способ связи\");\r\n\t\tdisabledOption.attr(\"disabled\", \"true\");\r\n\r\n\t\tselects.select2({\r\n\t\t\tminimumResultsForSearch: -1\r\n\t\t});\r\n\t}\r\n\r\n\t/* Маска для телефона */\r\n\tif (phoneField && phoneField.length > 0 && !report) {\r\n\t\tphoneField.inputmask(\"+7 (999) 999-99-99\", {\r\n\t\t\tshowMaskOnHover: false\r\n\t\t});\r\n\t}\r\n\tif (selectField) {\r\n\t\tconst element = document.createElement(\"label\");\r\n\t\telement.classList.add(\"ss-form-item\", \"ss-form-item--checkbox\");\r\n\t\telement.innerHTML = '<ul class=\"ss-form-input field field--checkbox\"><input type=\"checkbox\" name=\"policy\" required><b></b><span>Ознакомлен с <a href=\"https://www.cnews.ru/redirect.php?658111670ab154c994d\" target=\"_blank\">Политикой в области обработки персональных данных</a> и даю <a href=\"https://www.cnews.ru/redirect.php?906115670ab168430ee\" target=\"_blank\">согласие на их обработку</a></span></ul>';\r\n\r\n\t\tinsertAfter(element, selectField);\r\n\t}\r\n\r\n\tconst openNav = () => {\r\n\t\tlet bodyState = document.body.getAttribute(\"data-state\");\r\n\r\n\t\tif (bodyState === \"mobile-menu\") {\r\n\t\t\tdocument.body.dataset.state = \"\";\r\n\t\t} else {\r\n\t\t\tdocument.body.dataset.state = \"mobile-menu\";\r\n\t\t}\r\n\t}\r\n\r\n\t/* Мобильное меню */\r\n\tconst burger = document.querySelector(\".header__burger\");\r\n\tconst closeButtonMenu = document.querySelector(\".header__menu-close\");\r\n\r\n\tburger.addEventListener(\"click\", openNav);\r\n\tcloseButtonMenu.addEventListener(\"click\", openNav);\r\n\r\n\t/* Смарт хэдер */\r\n\tconst header = document.querySelector(\".header\");\r\n\tlet previousTop = window.scrollY;\r\n\theader.classList.remove(\"header--hide\");\r\n\r\n\tconst setHeaderStyles = () => {\r\n\t\tlet currentTop = window.scrollY;\r\n\r\n\t\tif (currentTop > HEADER_SCROLL_BG) {\r\n\t\t\theader.classList.add(\"header--bg\");\r\n\t\t} else {\r\n\t\t\theader.classList.remove(\"header--bg\");\r\n\t\t}\r\n\r\n\t\tif (currentTop > HEADER_SCROLL_HIDE && currentTop > previousTop) {\r\n\t\t\theader.classList.add(\"header--hide\");\r\n\t\t} else {\r\n\t\t\theader.classList.remove(\"header--hide\");\r\n\t\t}\r\n\t\tpreviousTop = currentTop;\r\n\t};\r\n\r\n\tdocument.addEventListener(\"scroll\", () => {\r\n\t\tsetHeaderStyles();\r\n\t});\r\n\r\n\tsetHeaderStyles();\r\n\r\n\t/* Якори */\r\n\tconst anchors = document.querySelectorAll('.anchor');\r\n\r\n\tif (anchors && anchors.length > 0) {\r\n\t\tanchors.forEach(anchor => {\r\n\t\t\tanchor.addEventListener('click', function (e) {\r\n\t\t\t\t//e.preventDefault();\r\n\r\n\t\t\t\tif (window.location.hash) {\r\n\t\t\t\t\tdocument.querySelector(window.location.hash).scrollIntoView({\r\n\t\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\r\n\t\t\t\t\topenNav();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tconst hero = document.querySelector(\".hero\");\r\n\tif (hero) {\r\n\t\t/* Разделить строку на символы */\r\n\t\tconst splitText = new SplitType(\".hero__title\", {\r\n\t\t\ttypes: \"chars\"\r\n\t\t});\r\n\r\n\t\t/* Анимация появления символов */\r\n\t\tconst heroObserver = new IntersectionObserver((entries, observer) => {\r\n\t\t\tentries.forEach((entry) => {\r\n\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\tconst chars = document.querySelectorAll(\".hero__title .char\");\r\n\r\n\t\t\t\t\tchars.forEach((el, index) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tel.style.transform = 'translateY(0)';\r\n\t\t\t\t\t\t}, 50 * index);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\theroObserver.observe(hero);\r\n\t}\r\n\r\n\t/* Скролл к началу */\r\n\tconst buttonUp = document.querySelector(\".button-up\");\r\n\r\n\tconst initButtonUp = () => {\r\n\t\tif (buttonUp) {\r\n\t\t\twindow.addEventListener(\"scroll\", buttonUpHandler);\r\n\r\n\t\t\tbuttonUp.addEventListener(\"click\", () => {\r\n\t\t\t\tdocument.querySelector(\"body\").scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst buttonUpHandler = () => {\r\n\t\tscroll = window.pageYOffset;\r\n\r\n\t\tif (scroll > 300) {\r\n\t\t\tbuttonUp.classList.add(\"button-up--visible\");\r\n\t\t} else {\r\n\t\t\tbuttonUp.classList.remove(\"button-up--visible\");\r\n\t\t}\r\n\t}\r\n\r\n\tinitButtonUp();\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst solutionsCarousel = document.querySelectorAll(\".solutions__slider\");\r\n\r\n\tif (solutionsCarousel.length > 0) {\r\n\t\tsolutionsCarousel.forEach(elem => {\r\n\t\t\tconst solutionsCarouselNext = elem.nextElementSibling.querySelector(\".swiper-btn-next\");\r\n\t\t\tconst solutionsCarouselPrev = elem.nextElementSibling.querySelector(\".swiper-btn-prev\");\r\n\r\n\t\t\tconst slider = new Swiper(elem, {\r\n\t\t\t\tslidesPerView: 1,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t\tloop: true,\r\n\t\t\t\tautoHeight: true,\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: solutionsCarouselNext,\r\n\t\t\t\t\tprevEl: solutionsCarouselPrev,\r\n\t\t\t\t},\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tel: \".solutions__pagination\",\r\n\t\t\t\t\tbulletActiveClass: \"swiper-pagination__bullet--active\",\r\n\t\t\t\t\tclickable: true,\r\n\t\t\t\t\trenderBullet: function (index, className) {\r\n\t\t\t\t\t\tlet bulletTpl = \"\";\r\n\r\n\t\t\t\t\t\tswitch (index) {\r\n\t\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t\tbulletTpl = `<span class=\"swiper-pagination__bullet ${className}\"><svg><use xlink:href=\"./images/sprite.svg#solutions1\"></use></svg></span>`;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\tbulletTpl = `<span class=\"swiper-pagination__bullet ${className}\"><svg><use xlink:href=\"./images/sprite.svg#solutions2\"></use></svg></span>`;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\tbulletTpl = `<span class=\"swiper-pagination__bullet ${className}\"><svg><use xlink:href=\"./images/sprite.svg#solutions3\"></use></svg></span>`;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\tbulletTpl = `<span class=\"swiper-pagination__bullet ${className}\"><svg><use xlink:href=\"./images/sprite.svg#solutions4\"></use></svg></span>`;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\tbulletTpl = `<span class=\"swiper-pagination__bullet ${className}\"><svg><use xlink:href=\"./images/sprite.svg#solutions5\"></use></svg></span>`;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn bulletTpl;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n});"]}